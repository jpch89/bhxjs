<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<script>
    /*
        数组本身也是对象。
        js中数组类似于java里的map容器，长度可随意改变，元素类型任意。
    */

    var arr = new Array();
    var arr1 = new Array(10);  // 长度为 10 的空数组
    var arr2 = new Array(10, 1, 2, "哈哈");  // 长度为 4 的数组
    console.log(arr2);  //  4
    var arr3 = [1, 2, "abc", new Date()];
    console.log(arr3.length);  // 4
    console.log(arr3.toString());  // 1,2,abc,Fri Mar 15 2019 15:01:19 GMT+0800 (中国标准时间)
    console.log(arr3);  // 打印出 arr3 数组

    arr3.length = 3;
    // 为什么输出的不是 [object Object] ???
    // 因为 alert 隐式调用了 arr3 的 toString() 方法
    // 该方法把数组转换成字符串表示形式
    // 因为 alert 要求传入的就是一个字符串，所以如果放一个 arr3
    // 会自动调用 toString() 方法
    alert(arr3);  // 1,2,abc

    // push：向数组中追加元素
    // 返回值为新数组的长度
    var arr4 = [];
    arr4.push(1, 2, true);
    console.log(arr4);
    var result = arr4.push("哈哈", false);
    console.log(result);

    // pop：从数组的尾部移除一个元素，不能传任何参数
    // 返回值就是拿到的那个元素
    var obj = arr4.pop();
    console.log(arr4);  // 打印一个长度为 4 的数组
    console.log(obj);  // false

    // shift 和 unshift
    // shift 不带参数，从头部移除一个元素，返回值是移除的元素
    var arr5 = [1, 2, 3];
    var r1 = arr5.shift();
    console.log(arr5);
    console.log(r1);  // 1
    // unshift：在头部插入多个元素，返回新数组的长度
    var r2 = arr5.unshift("哈哈", "嘿嘿");
    console.log(r2);  // 4
    console.log(arr5);

    // splice 和 slice 方法
    // splice 第一个参数：起始位置
    //        第二个参数：表示截取的个数
    //        其余参数：表示追加的新元素
    // 注意：splice 会改变原数组
    var arr6 = [1, 2, 3, 4, 5];
    arr6.splice(1, 2, 3, 4, 5);
    console.log(arr6.toString());  // 1,3,4,5,4,5
    // 如果传入两个参数，相当于把 2,3 截取掉，不追加新元素
    var arr7 = [1, 2, 3, 4, 5];
    arr7.splice(1, 2);
    console.log(arr7.toString());  // 1, 4, 5

    // slice 的参数是截取范围，返回截取出来的内容
    // 不改变原数组
    var arr8 = [1, 2, 3, 4, 5];
    var arr9 = arr8.slice(2, 4);  // 这两个参数就是截取范围（左闭右开区间）
    console.log(arr8);  // slice 不改变原数组
    console.log(arr9.toString());  // 3,4（返回截取出来的内容）

    // concat，拼接数组，返回拼接结果，不改变原数组
    // 格式：数组1.concat(数组2);
    var ar1 = [1, 2];
    var ar2 = [3, 4];
    var res = ar1.concat(ar2);
    // concat 不改变原数组！
    console.log(ar1.toString());
    console.log(ar2.toString());
    console.log(res.toString());  // 1, 2, 3, 4

    // join，在每个元素之间加入连接符，不改变原数组，返回字符串
    // 格式：数组.join("连接符")
    var res2 = ar1.join('-');
    console.log(ar1.toString());  // 1,2
    console.log(typeof res2);  // string
    console.log(res2);  // 1-2

    // sort 和 reverse 都改变原数组
    // sort 正序排序
    // reverse 逆序（不是按照大小逆序，而是按照位置逆序）
    var ar3 = [5, 2, 1, 4, 3];
    var ar4 = [10, 2, 4, 1, 7];
    ar3.sort();
    ar4.reverse();
    console.log(ar3.toString());  // 1,2,3,4,5
    console.log(ar4.toString());  // 7,1,4,2,10
    // 注意：sort把元素按照字符串形式来比
    var ar5 = [10, 2, 4, 1, 7];
    ar5.sort();
    console.log(ar5.toString());  // 1,10,2,4,7

    // sort 传入函数才能进行比数值的大小
    function compare(v1, v2) {
        if (v1 < v2) {
            return -1;
        } else if (v1 > v2) {
            return 1;
        } else {
            return 0;
        }
    }

    var ar6 = [10, 2, 4, 1, 7];
    ar6.sort(compare);
    console.log(ar6.toString());  // 1, 2, 4, 7, 10

</script>
</body>
</html>
